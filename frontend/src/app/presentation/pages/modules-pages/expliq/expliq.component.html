<main>
    <app-navbar/>
    <form [formGroup]="formExpliq" (ngSubmit)="onSubmit()" class="px-5 space-y-6">
        <div class="flex flex-col">
            <label for="context" class="mb-2 text-lg font-medium text-gray-700">Contexte :</label>
            <textarea id="context" formControlName="context" rows="4" cols="50" placeholder="Entrez le contexte ici..." class="p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"></textarea>
            <div *ngIf="formExpliq.get('context')?.invalid && formExpliq.get('context')?.touched">
                <small class="text-red-600">Le contexte est requis.</small>
            </div>
        </div>

        <div class="flex flex-col">
            <label for="question" class="mb-2 text-lg font-medium text-gray-700">Question :</label>
            <input type="text" id="question" formControlName="question" placeholder="Entrez votre question ici..." class="p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
            <div *ngIf="formExpliq.get('question')?.invalid && formExpliq.get('question')?.touched">
                <small class="text-red-600">La question est requise.</small>
            </div>
        </div>

        <button type="submit" [disabled]="formExpliq.invalid || !formExpliq.get('context')?.value || !formExpliq.get('question')?.value" class="btn-link">Soumettre</button>
    </form>

    <div  class="mt-6 px-5">
        <div class="text-lg font-bold text-[#ffc224] flex gap-4">
            <img src="logo.png" class="w-10 h-10 rounded-full" alt="logo">
            <span *ngIf="expliq && expliq.answer"  class="text-black text-base font-semibold mt-2">: {{ expliq.answer }}</span>
            <p class="message-error mt-2" *ngIf="errorMessage">{{ errorMessage }}</p>
        </div>
    </div>

</main>
